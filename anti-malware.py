##import os
##import base64
##import hashlib
##from cryptography.fernet import Fernet
##
### Set the directory path
##directory_path = "C:/Photos"
##
### Set the password
##password = "mfghjkuytretyu65"
##
### Hash the password using SHA-256
##password_hash = hashlib.sha256(password.encode()).digest()
##
### Generate a Fernet key from the password hash
##fernet_key = base64.urlsafe_b64encode(password_hash)
##
### Create a Fernet object
##fernet = Fernet(fernet_key)
##
### Iterate through all the files in the directory
##for filename in os.listdir(directory_path):
##  # Check if the file is an encrypted photo (based on the file extension)
##  if filename.endswith(".encrypted"):
##    # Open the file in binary mode
##    with open(os.path.join(directory_path, filename), "rb") as file:
##      # Read the file content
##      file_content = file.read()
##
##      # Decrypt the file content using the Fernet object
##      decrypted_content = fernet.decrypt(file_content)
##
##      # Write the decrypted content to a new file
##      with open(os.path.join(directory_path, filename[:-10]), "wb") as decrypted_file:
##        decrypted_file.write(decrypted_content)
##
##print("Decryption complete!")
##
import os
import base64
import hashlib
from cryptography.fernet import Fernet

# Set the directory path to the current user's folder on the C drive
directory_path = "C:/Users/{}".format(os.getlogin())

# Set the password
password = "fghjuytr7865rtyjkytrfgbn"

# Hash the password using SHA-256
password_hash = hashlib.sha256(password.encode()).digest()

# Generate a Fernet key from the password hash
fernet_key = base64.urlsafe_b64encode(password_hash)

# Create a Fernet object
fernet = Fernet(fernet_key)

# Iterate through all the files in the directory
for filename in os.listdir(directory_path):
  # Check if the file is an encrypted photo (based on the file extension)
  if filename.endswith(".encrypted"):
    # Open the encrypted file in binary mode
    with open(os.path.join(directory_path, filename), "rb") as encrypted_file:
      # Read the encrypted file content
      encrypted_content = encrypted_file.read()

      # Decrypt the file content using the Fernet object
      decrypted_content = fernet.decrypt(encrypted_content)

      # Write the decrypted content to a new file
      with open(os.path.join(directory_path, filename[:-10]), "wb") as file:
        file.write(decrypted_content)

    # Delete the encrypted file
    os.remove(os.path.join(directory_path, filename))

print("Decryption complete!")

